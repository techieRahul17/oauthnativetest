# Google OAuth React Native Expo App

A React Native application built with Expo that demonstrates Google OAuth authentication using `expo-auth-session`. This app allows users to sign in with their Google account and displays their profile information.

## Features

- üîê Google OAuth 2.0 authentication
- üì± Cross-platform (iOS, Android, Web)
- üéØ Built with Expo Go for easy development
- üë§ Display user profile (name, email, picture)
- üõ°Ô∏è TypeScript support for better development experience

## Prerequisites

- Node.js (v16 or higher)
- Expo CLI
- Expo Go app on your mobile device
- Google Cloud Console account

## Installation

1. **Clone the repository**
   ```bash
   git clone <your-repo-url>
   cd oauthtest
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Start the development server**
   ```bash
   npm start
   ```

4. **Open in Expo Go**
   - Scan the QR code with your mobile device
   - Or press 'a' for Android or 'i' for iOS simulator

## Google OAuth Setup

### 1. Create a Google Cloud Project

1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Create a new project or select an existing one
3. Enable the Google+ API

### 2. Create OAuth 2.0 Credentials

1. Navigate to "APIs & Services" > "Credentials"
2. Click "Create Credentials" > "OAuth 2.0 Client IDs"
3. Choose "Web application" as the application type
4. Add your redirect URI:
   ```
   https://auth.expo.io/@your-username/oauthtest
   ```
   Replace `your-username` with your Expo username and `oauthtest` with your app slug.

### 3. Configure the App

The app is already configured with the client ID. If you need to change it, update the `GOOGLE_CLIENT_ID` constant in `app/index.tsx`:

```typescript
const GOOGLE_CLIENT_ID = "your-client-id-here";
```

## Project Structure

```
oauthtest/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx          # App layout configuration
‚îÇ   ‚îú‚îÄ‚îÄ index.tsx            # Main app component with OAuth logic
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx             # Page wrapper
‚îú‚îÄ‚îÄ assets/                  # Static assets (images, fonts)
‚îú‚îÄ‚îÄ app.json                 # Expo configuration
‚îú‚îÄ‚îÄ package.json             # Dependencies and scripts
‚îî‚îÄ‚îÄ README.md               # This file
```

## How It Works

1. **Authentication Flow**: The app uses `expo-auth-session` to handle the OAuth flow
2. **User Sign-in**: Users tap the "Sign in with Google" button
3. **OAuth Redirect**: Google's authentication page opens in a web browser
4. **Token Exchange**: After successful authentication, the app receives an access token
5. **Profile Fetching**: The app fetches user profile data using the Google People API
6. **Display**: User information (name, email, profile picture) is displayed

## Dependencies

- `expo-auth-session`: Handles OAuth authentication
- `expo-web-browser`: Manages web browser sessions
- `expo-router`: Navigation and routing
- `react-native-safe-area-context`: Safe area handling
- `@expo/vector-icons`: Icon library

## Troubleshooting

### Common Issues

#### 1. "redirect_uri_mismatch" Error
- **Cause**: The redirect URI in your Google Cloud Console doesn't match the one generated by Expo
- **Solution**: 
  1. Find your exact redirect URI by running:
     ```javascript
     import * as AuthSession from 'expo-auth-session';
     console.log(AuthSession.makeRedirectUri({ useProxy: true }));
     ```
  2. Add this URI to your Google Cloud Console OAuth credentials

#### 2. "This app's request is invalid"
- **Cause**: Incorrect client ID or missing redirect URI
- **Solution**: Verify your client ID and redirect URI configuration

#### 3. App not working in Expo Go
- **Cause**: Missing or incorrect configuration
- **Solution**: Ensure you're using the latest version of Expo Go and all dependencies are properly installed

### Debug Mode

To enable debug logging, add this to your app:

```typescript
import * as AuthSession from 'expo-auth-session';
console.log('Redirect URI:', AuthSession.makeRedirectUri({ useProxy: true }));
```

## Development

### Available Scripts

- `npm start`: Start the Expo development server
- `npm run android`: Start on Android device/emulator
- `npm run ios`: Start on iOS device/simulator
- `npm run web`: Start in web browser
- `npm run lint`: Run ESLint

### Building for Production

```bash
# Build for Android
expo build:android

# Build for iOS
expo build:ios
```

## Security Considerations

- Never commit your actual client ID to version control in production
- Use environment variables for sensitive configuration
- Implement proper token storage and refresh mechanisms for production apps
- Consider implementing sign-out functionality

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Support

If you encounter any issues or have questions:

1. Check the [Expo documentation](https://docs.expo.dev/)
2. Review the [expo-auth-session documentation](https://docs.expo.dev/versions/latest/sdk/auth-session/)
3. Open an issue in this repository

## Acknowledgments

- [Expo](https://expo.dev/) for the amazing development platform
- [Google OAuth 2.0](https://developers.google.com/identity/protocols/oauth2) for authentication
- [React Native](https://reactnative.dev/) for the mobile framework

## Authored by Rahul V S and Ramcharan S
